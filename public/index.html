<html>

<head>
  <title>Express</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
</head>

<body>
  <h1>Express</h1>
  <p>Welcome to Express</p>

  <script src="https://unpkg.com/compromise@latest/builds/compromise.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js"></script>
  <script>
    // TODO: put a checker for named dates like 'today', 'tomorrow', 'this weekend', 'christmas', etc.
    var task = 'do homework this sunday at 9pm';
    var nlpDate = nlp(task).dates().data();
    console.log(nlpDate);
    // console.log(new Date());
    // console.log(moment().day(2).format())
    console.log(moment.utc(new Date()).format())
    var today = moment().isoWeekday();
    var dayINeed = nlpDate[0].date.weekday; // tuesday

    function getNextWeekday(today, dayIneed) {
      if (today <= dayINeed) {
        // then just give me this week's instance of that day
        return moment().isoWeekday(dayINeed);
      } else {
        // otherwise, give me *next week's* instance of that same day
        return moment().add(1, 'weeks').isoWeekday(dayINeed);
      }
    }

    console.log(getNextWeekday(today, dayINeed))
  </script>
</body>

</html>